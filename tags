local MarketplaceService = game:GetService("MarketplaceService")
local Players = game:GetService("Players")

local GAMEPASS_ID = 12345678 -- replace with your gamepass ID

Players.PlayerAdded:Connect(function(player)
    -- Check if player owns the pass
    local success, ownsPass = pcall(function()
        return MarketplaceService:UserOwnsGamePassAsync(player.UserId, GAMEPASS_ID)
    end)

    if success and ownsPass then
        -- Get HD Admin and grant admin rank
        local hdAdmin = game.ServerStorage:WaitForChild("HDAdmin")
        local MainModule = require(hdAdmin.MainFramework)
        MainModule:AddAdmin(player, "Admin") -- rank can be "Owner", "Admin", "Moderator"
        print(player.Name .. " was given Admin via GamePass")
    else
        print(player.Name .. " does not own the Admin gamepass")
    end
end)
